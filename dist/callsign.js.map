{"version":3,"file":"callsign.js","sources":["webpack:///webpack/bootstrap","webpack:///./src/esm/index.js","webpack:///./src/esm/modules/asyncGetAirlineInfoByFlightNumber.js","webpack:///./src/esm/modules/asyncGetAmateurRadioDetailedByCallsign.js","webpack:///./src/esm/modules/getAircraftRegistInfoByTailCode.js","webpack:///./src/esm/modules/getAmateurRadioInfoByCallsign.js","webpack:///./src/esm/utils/index.js","webpack:///./src/runtime/index.js"],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/runtime/index.js\");\n","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport getAmateurRadioInfoByCallsignModules from './modules/getAmateurRadioInfoByCallsign';\nimport asyncGetAmateurRadioDetailedByCallsignModules from './modules/asyncGetAmateurRadioDetailedByCallsign';\nimport getAircraftRegistInfoByTailCodeModules from './modules/getAircraftRegistInfoByTailCode';\nimport asyncGetAirlineInfoByFlightNumberModules from './modules/asyncGetAirlineInfoByFlightNumber';\n\nvar Callsign =\n/*#__PURE__*/\nfunction () {\n  function Callsign() {\n    _classCallCheck(this, Callsign);\n  }\n  /**\n   * Search DXCC information for amateur radio callsign\n   * @param {String} callsign HamRadio Callsign\n   */\n\n\n  _createClass(Callsign, [{\n    key: \"getAmateurRadioInfoByCallsign\",\n    value: function getAmateurRadioInfoByCallsign(callsign) {\n      return getAmateurRadioInfoByCallsignModules(callsign);\n    }\n    /**\n     * async Search DXCC information for amateur radio callsign\n     * Use promise\n     * @param {String} callsign Amateur Callsign\n     * @param {String} url Amateur Callsign DataBase Network address\n     */\n\n  }, {\n    key: \"asyncGetAmateurRadioDetailedByCallsign\",\n    value: function asyncGetAmateurRadioDetailedByCallsign(callsign, url) {\n      return asyncGetAmateurRadioDetailedByCallsignModules(callsign, url);\n    }\n  }, {\n    key: \"getAmateurRadioDetailedByCallsign\",\n    value: function getAmateurRadioDetailedByCallsign() {\n      console.error('[callsign.js]: API Error \\n \"getAmateurRadioDetailedByCallsign\" only supports Node.js environment, please use \"asyncGetAmateurRadioDetailedByCallsign\"');\n    }\n    /**\n     * Search attribution based on the Tail code\n     * @param {String} tailcode Aircraft Tail Code\n     */\n\n  }, {\n    key: \"getAircraftRegistInfoByTailCode\",\n    value: function getAircraftRegistInfoByTailCode(tailcode) {\n      return getAircraftRegistInfoByTailCodeModules(tailcode);\n    }\n    /**\n     * Get airline information by flight number\n     * @param {String} flightnumber Flight Number\n     * @param {String} url Flight Number Database\n     */\n\n  }, {\n    key: \"asyncGetAirlineInfoByFlightNumber\",\n    value: function asyncGetAirlineInfoByFlightNumber(flightnumber, url) {\n      return asyncGetAirlineInfoByFlightNumberModules(flightnumber, url);\n    }\n  }, {\n    key: \"getAirlineInfoByFlightNumber\",\n    value: function getAirlineInfoByFlightNumber() {\n      console.error('[callsign.js]: API Error \\n \"getAirlineInfoByFlightNumber\" only supports Node.js environment, please use \"asyncGetAirlineInfoByFlightNumber\"');\n    }\n  }]);\n\n  return Callsign;\n}();\n\nexport default new Callsign();","import { ajax } from '../utils';\n\nvar getAirlineInfoByFlightNumber = function getAirlineInfoByFlightNumber(arelineDB, flightnumber) {\n  var three = flightnumber.substr(2, 1);\n  var result;\n\n  if (three >= 'A' && three <= 'Z') {\n    result = arelineDB.find(function (x) {\n      return x.ICAO === flightnumber.substring(0, 3);\n    });\n  } else {\n    result = arelineDB.find(function (x) {\n      return x.IATA === flightnumber.substring(0, 2);\n    });\n  }\n\n  return result;\n};\n\nvar asyncGetAirlineInfoByFlightNumber = function asyncGetAirlineInfoByFlightNumber(flightnumber, url) {\n  if (typeof flightnumber !== 'string') {\n    console.error('[callsign.js]: flightnumber must be string');\n    return;\n  }\n\n  flightnumber = flightnumber.toUpperCase();\n\n  if (url === undefined) {\n    url = 'https://unpkg.com/callsign/dist/data/airlineDB.json';\n  }\n\n  return new Promise(function (resolve, reject) {\n    ajax('GET', url).then(function (res) {\n      var getDetail = getAirlineInfoByFlightNumber(JSON.parse(res), flightnumber);\n      resolve(getDetail);\n    })[\"catch\"](function (e) {\n      reject('[callsign.js]: Network Error');\n    });\n  });\n};\n\nexport default asyncGetAirlineInfoByFlightNumber;","import { ajax } from '../utils';\n\nvar getAmateurRadioDetailedByCallsign = function getAmateurRadioDetailedByCallsign(callsignDB, callsign) {\n  var result1 = callsignDB['1'].find(function (x) {\n    return x.prefix === callsign.substring(0, 1);\n  });\n  var result2 = callsignDB['2'].find(function (x) {\n    return x.prefix === callsign.substring(0, 2);\n  });\n  var result3 = callsignDB['3'].find(function (x) {\n    return x.prefix === callsign.substring(0, 3);\n  });\n  var result4 = callsignDB['4'].find(function (x) {\n    return x.prefix === callsign.substring(0, 4);\n  });\n  var result;\n\n  if (result4 === undefined) {\n    if (result3 === undefined) {\n      if (result2 === undefined) {\n        if (result1 === undefined) {\n          result = undefined;\n        } else {\n          result = result1;\n        }\n      } else {\n        result = result2;\n      }\n    } else {\n      result = result3;\n    }\n  } else {\n    result = result4;\n  }\n\n  return result;\n};\n\nvar asyncGetAmateurRadioDetailedByCallsign = function asyncGetAmateurRadioDetailedByCallsign(callsign, url) {\n  if (typeof callsign !== 'string') {\n    console.error('[callsign.js]: Callsign must be string');\n    return;\n  }\n\n  callsign = callsign.toUpperCase();\n\n  if (url === undefined) {\n    url = 'https://unpkg.com/callsign/dist/data/cty.json';\n  }\n\n  return new Promise(function (resolve, reject) {\n    ajax('GET', url).then(function (res) {\n      var getDetail = getAmateurRadioDetailedByCallsign(JSON.parse(res), callsign);\n      resolve(getDetail);\n    })[\"catch\"](function (e) {\n      reject('[callsign.js]: Network Error');\n    });\n  });\n};\n\nexport default asyncGetAmateurRadioDetailedByCallsign;","import aircraftDB from '../../lib/aircraftDB.json';\n\nvar getAircraftRegistInfoByTailCode = function getAircraftRegistInfoByTailCode(tailcode) {\n  if (typeof tailcode !== 'string') {\n    console.error('[callsign.js]: Tailcode must be string');\n    return;\n  }\n\n  tailcode = tailcode.toUpperCase();\n  var result1 = aircraftDB['1'].find(function (x) {\n    return x.prefix === tailcode.substring(0, 1);\n  });\n  var result2 = aircraftDB['2'].find(function (x) {\n    return x.prefix === tailcode.substring(0, 2);\n  });\n  var result3 = aircraftDB['3'].find(function (x) {\n    return x.prefix === tailcode.substring(0, 3);\n  });\n  var result4 = aircraftDB['4'].find(function (x) {\n    return x.prefix === tailcode.substring(0, 4);\n  });\n  var result;\n\n  if (result4 === undefined) {\n    if (result3 === undefined) {\n      if (result2 === undefined) {\n        if (result1 === undefined) {\n          result = undefined;\n        } else {\n          result = result1;\n\n          if (tailcode.length === 7 && result1.prefix === 'B') {\n            result.area = \"Taiwan\";\n          }\n\n          if (tailcode.length === 6 && result1.prefix === 'B') {\n            result.area = \"China\";\n          }\n        }\n      } else {\n        result = result2;\n      }\n    } else {\n      result = result3;\n    }\n  } else {\n    result = result4;\n  }\n\n  return result;\n};\n\nexport default getAircraftRegistInfoByTailCode;","import FirstLetterIndex from '../../lib/HamCallsignDB/callsignindexone.json';\nimport SecondLetterIndex from '../../lib/HamCallsignDB/callsignindextwo.json';\nimport ThirdLetterIndex from '../../lib/HamCallsignDB/callsignindexthree.json';\nimport FourthLetterIndex from '../../lib/HamCallsignDB/callsignindexfour.json';\n\nvar getAmateurRadioInfoByCallsign = function getAmateurRadioInfoByCallsign(callsign) {\n  if (typeof callsign !== 'string') {\n    console.error('[callsign.js]: Callsign must be string');\n    return;\n  }\n\n  callsign = callsign.toUpperCase();\n  var result1 = FirstLetterIndex.find(function (x) {\n    return x.prefix === callsign.substring(0, 1);\n  });\n  var result2 = SecondLetterIndex.find(function (x) {\n    return x.prefix === callsign.substring(0, 2);\n  });\n  var result3 = ThirdLetterIndex.find(function (x) {\n    return x.prefix === callsign.substring(0, 3);\n  });\n  var result4 = FourthLetterIndex.find(function (x) {\n    return x.prefix === callsign.substring(0, 4);\n  });\n  var result;\n\n  if (result4 === undefined) {\n    if (result3 === undefined) {\n      if (result2 === undefined) {\n        if (result1 === undefined) {\n          result = undefined;\n        } else {\n          result = result1;\n        }\n      } else {\n        result = result2;\n      }\n    } else {\n      result = result3;\n    }\n  } else {\n    result = result4;\n  }\n\n  return result;\n};\n\nexport default getAmateurRadioInfoByCallsign;","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport var ajax = function ajax(method, url, params) {\n  return new Promise(function (resolve, reject) {\n    var xhr = new XMLHttpRequest();\n\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState === 4) {\n        if (xhr.status === 200) {\n          resolve(xhr.responseText);\n        } else {\n          reject(xhr.status);\n        }\n      }\n    };\n\n    if (method === 'get' || method === 'GET') {\n      if (_typeof(params) === 'object') {\n        params = Object.keys(params).map(function (key) {\n          return encodeURIComponent(key) + '=' + encodeURIComponent(params[key]);\n        }).join('&');\n      }\n\n      url = params ? url + '?' + params : url;\n      xhr.open(method, url, true);\n      xhr.send();\n    }\n\n    if (method === 'post' || method === 'POST') {\n      xhr.open(method, url, true);\n      xhr.setRequestHeader('Content-type', 'application/json; charset=utf-8');\n      xhr.send(JSON.stringify(params));\n    }\n  });\n};","import callsign from '../esm';\n\nif (typeof window !== 'undefined') {\n  window.callsign = callsign;\n} else {\n  console.error('[callsign.js]: This applies to the browser version, please use the Node.js version!');\n}"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC5EA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzCA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC5DA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC/CA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClCA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}